(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5356:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(2737)}])},7418:function(e,t,a){"use strict";a.d(t,{E:function(){return p}});var n=a(2322),i=a(2784),s=a(9097),l=a.n(s),r=a(1453),o=a(2367),c=function(e){var t=e.imageUrl,a=e.actionLink,i=e.timeStamp,s=e.children,l=(0,n.jsx)("svg",{style:{width:"30px",height:"30px"},viewBox:"0 0 24 24",children:(0,n.jsx)("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"})});return(0,n.jsxs)("div",{className:"notification-item",children:[(0,n.jsxs)("div",{className:"notification-item__content",children:[(0,n.jsx)("div",{className:"notification-item__image",children:t?(0,n.jsx)("img",{src:t,alt:""}):l}),(0,n.jsxs)("div",{className:"notification-item__text",children:[s,(0,n.jsxs)("div",{className:"notification-item__time",children:[(0,o.VG)(i)," ago"]})]})]}),a?(0,n.jsx)("a",{href:a,className:"shadow-link"}):null]})},d=a(7037),u=a(4136),m=a.n(u),h=a(9241);function p(e){var t=e.battleId,a=(0,i.useState)(!1),s=a[0],o=a[1],u=(0,i.useState)([]),p=u[0],f=u[1];return(0,i.useEffect)((function(){o(!0),(0,d.V6)(t).then((function(e){o(!1),f(e)}))}),[t]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.M,{children:"Activity Timeline"}),(0,n.jsx)("div",{className:"item__content item__content--no-padding",children:(0,n.jsxs)("div",{className:m().streams,children:[s?(0,n.jsx)("p",{className:"para ta-c",style:{margin:"1rem 0"},children:(0,n.jsx)(h.a,{})}):null,s||p.length?null:(0,n.jsx)("p",{className:"para ta-c",children:"No activity recorded here."}),!s&&p.map((function(e){return(0,n.jsxs)(c,{timeStamp:e.timestamp,imageUrl:e.playerProfile.avatar,children:[e.playerProfile.displayName," ",e.data.userId===e.data.previousUserId?"broke own record on":"set a new record on"," ",(0,n.jsx)(l(),{href:"/play/".concat(e.data.levelId),children:(0,n.jsxs)("a",{className:"link",children:["Target #",e.data.levelId]})})," ","with ",e.data.codeSize," chars (",e.data.codeSize-e.data.previousUserCodeSize,")."]},e.id)}))]})})]})}},2220:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var n=a(865),i=a(6670),s=a(6297),l=a(2322),r=(a(2784),a(9241));function o(e){var t=e.type,a=void 0===t?"button":t,o=e.primary,c=e.danger,d=e.success,u=e.cool,m=e.size,h=e.extraClasses,p=void 0===h?"":h,f=e.children,_=e.isLoading,x=(0,s.Z)(e,["type","primary","danger","success","cool","size","extraClasses","children","isLoading"]);return(0,l.jsxs)("button",(0,i.Z)((0,n.Z)({type:a,className:"button ".concat(o?"button--primary":""," \n      ").concat(u?"button--cssbattle":"","\n      ").concat(m?"button--".concat(m):"","\n      ").concat(d?"button--success":""," ").concat(c?"button--danger":""," ").concat(p),disabled:_},x),{children:[f,(0,l.jsx)("div",{style:{display:"flex",transition:"max-width 0.3s ease",overflow:"hidden",maxWidth:_?"1.6em":0},children:(0,l.jsx)(r.a,{height:"1.2em",leftMargin:"0.5rem"})})]}))}},6833:function(e,t,a){"use strict";a.d(t,{w:function(){return f}});var n=a(865),i=a(6670),s=a(2322),l=a(2784),r=a(5632),o=a(2220),c=a(384),d=a(1251),u=a(9604),m=a(7037),h=a(1255),p=a(1893),f=function(e){var t=e.isOpen,a=e.onRequestClose,f=((0,r.useRouter)(),(0,h.p)("An awesome battle")),_=(0,l.useState)(!1),x=_[0],g=_[1],v=(0,p.a)();return(0,s.jsxs)(c.u,{isOpen:t,size:"small",extraClasses:"modal--text-center",children:[(0,s.jsx)("div",{style:{margin:"1rem 0 1.5rem"},children:(0,s.jsx)(u.J,{name:"battle",size:"48"})}),(0,s.jsx)("h2",{children:"Host a Battle"}),(0,s.jsx)("p",{className:"para",style:{lineHeight:"1.6"},children:"Create your own battles with custom targets, leaderboards, and, duration. Enter a nice name for your battle to proceed:"}),(0,s.jsx)(d.xu,{style:{marginTop:"2.5rem"},children:(0,s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(!0),(0,m.pn)({userId:v.uid,battle:{name:f.value,duration:30},levels:[]}).then((function(e){g(!1),location.href="/battle/create/".concat(e)}))},children:[(0,s.jsx)(d.II,(0,i.Z)((0,n.Z)({label:"Battle name"},f.input),{required:!0})),(0,s.jsxs)(d.hE,{center:!0,children:[(0,s.jsx)(o.z,{onClick:a,children:"Cancel"}),(0,s.jsx)(o.z,{type:"submit",isLoading:x,primary:!0,children:"Proceed to Battle edit"})]})]})})]})}},1942:function(e,t,a){"use strict";a.d(t,{N:function(){return i}});var n=a(2322);function i(){return(0,n.jsxs)("div",{className:"friends-empty",children:[(0,n.jsx)("img",{alt:"Two friends high fiving",src:"/images/friends.svg"}),(0,n.jsx)("p",{className:"friends-empty__title",children:"Add friends!"}),(0,n.jsx)("p",{className:"friends-empty__desc",children:"Want to see where you stand only among your friends? Visit their profile and add them as friends to see them here!"})]})}},8742:function(e,t,a){"use strict";a.d(t,{P:function(){return o}});var n=a(2322),i=(a(2784),a(2367)),s=a(1251),l=a(7424),r=a(5598);function o(e){var t,a,o,c,d,u=e.data,m=e.showTimeTaken;return(0,n.jsxs)("div",{className:"leaderboard__user  leaderboard__user--".concat(u.rank),children:[(0,n.jsx)(s.qE,{small:!0,size:"32",url:u.playerProfile.avatar,username:u.playerProfile.username,userId:u.userId||u.playerProfile.id||u.playerProfile.uid,className:"leaderboard__user-avatar"}),(0,n.jsxs)("div",{className:"leaderboard__user-info",children:[(0,n.jsx)(s.Rj,{name:u.playerProfile.displayName,username:u.playerProfile.username,isPro:u.playerProfile.isPro,userId:u.userId||u.playerProfile.id||u.playerProfile.uid,className:"leaderboard__user-name",ellipsis:!0}),(0,n.jsxs)(r.HStack,{align:"center",children:[(0,n.jsxs)("p",{className:"leaderboard__user-score",children:[m?null:u.score?u.score.toFixed(2):"0"," ",m&&u.playedCount?"(".concat(u.playedCount," Target").concat(u.playedCount>1?"s":"",")"):""," ",m?u.timeTaken?"".concat(null===(t=u.timeTaken)||void 0===t?void 0:t.toFixed(2)," secs"):"-":null," ",!m&&u.playedCount?"(".concat(u.playedCount," Target").concat(u.playedCount>1?"s":"",")"):"",u.codeSize?"(".concat(u.codeSize," Chars)"):""]}),(0,n.jsx)(l.c,{tags:(null===(a=u.lastUpdated)||void 0===a?void 0:a.seconds)===(null===(o=u.nonCss)||void 0===o||null===(c=o.lastUpdated)||void 0===c?void 0:c.seconds)?null===(d=u.nonCss)||void 0===d?void 0:d.tags:[]})]})]}),(0,n.jsx)("p",{className:"leaderboard__user-rank  leaderboard__user-rank--".concat(u.rank),children:(0,i.x4)(u.rank)})]})}},94:function(e,t,a){"use strict";a.d(t,{g:function(){return s}});var n=a(2322),i=a(3290);function s(e){var t=e.isFriendsMode,a=e.onChange,s=function(e){a(e),(0,i.q)({name:"friendLeaderboardToggle",label:"friends"===e.target.value})};return(0,n.jsxs)("div",{className:"filter leaderboard-filter",children:[(0,n.jsxs)("span",{className:"filter__button",children:[(0,n.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"friends",value:"friends",defaultChecked:t,onChange:s}),(0,n.jsx)("label",{htmlFor:"friends",children:"Friends Only"})]}),(0,n.jsxs)("span",{className:"filter__button",children:[(0,n.jsx)("input",{type:"radio",name:"leaderboard-filter",id:"everyone",value:"everyone",defaultChecked:!t,onChange:s}),(0,n.jsx)("label",{htmlFor:"everyone",children:"All Players"})]})]})}},7448:function(e,t,a){"use strict";a.d(t,{T:function(){return l}});var n=a(2322),i=(a(2784),a(4697)),s=a(7171);function l(e){var t=e.fixedHeight,a=e.hideFooter,l=e.extraClasses,r=void 0===l?"":l,o=e.children;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h,{}),(0,n.jsx)("div",{className:"container ".concat(t?"container--fixed-height":"","\n        ").concat(a?"container--hide-footer":"","\n        ").concat(r),children:o}),(0,n.jsx)(s.$,{})]})}},1453:function(e,t,a){"use strict";a.d(t,{M:function(){return i}});var n=a(2322);a(2784);function i(e){var t=e.children,a=e.sticky,i=e.keyCombo,s=e.extraContent,l=e.meta;return(0,n.jsxs)("div",{className:"item__header  ".concat(a?"item__header--sticky":""),children:[(0,n.jsx)("h3",{className:"header__title",children:t}),s,i&&(0,n.jsxs)("p",{className:"key-combo key-combo--header",children:[" ",i," "]}),(0,n.jsx)("div",{className:"header__extra-info",children:l})]})}},384:function(e,t,a){"use strict";a.d(t,{u:function(){return f}});var n=a(865),i=a(6670),s=a(6297),l=a(2322),r=(a(2784),a(3140)),o=a(5935),c=a(8565),d=a(2268),u=a(1453),m=(0,o.E)(r.cZ),h=(0,o.E)(r.t9),p={type:"spring",damping:9,stiffness:120,duration:500};function f(e){var t=e.isOpen,a=e.onRequestClose,r=e.size,o=void 0===r?"big":r,f=e.extraClasses,_=e.header,x=e.title,g=e.hideOverlay,v=e.children,j=(0,s.Z)(e,["isOpen","onRequestClose","size","extraClasses","header","title","hideOverlay","children"]),b=(0,c.J)();return(0,l.jsx)(d.M,{children:t?(0,l.jsx)(h,(0,i.Z)((0,n.Z)({initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0,transition:{duration:.2}},style:{background:g?"transparent":null},isOpen:t,onDismiss:a},j),{children:(0,l.jsxs)(m,{className:"modal--".concat(o," ").concat(f),transition:b?{duration:500}:p,initial:{y:b?0:-100},animate:{y:0},exit:{opacity:0,y:b?0:-200,transition:{duration:.2}},"aria-label":x,children:[_?(0,l.jsx)(u.M,{children:_}):null,(0,l.jsx)("div",{style:{padding:"2rem"},children:v})]})})):null})}},7424:function(e,t,a){"use strict";a.d(t,{c:function(){return s}});var n=a(2322),i=a(2784),s=function(e){var t=e.tags,a=(0,i.useState)([]),s=a[0],l=a[1],r="nonCss";return(0,i.useEffect)((function(){t&&(t.indexOf(r)>-1&&l(t.filter((function(e){return e!==r}))))}),[t]),(0,n.jsx)("div",{children:s.map((function(e,t){return(0,n.jsx)("span",{className:"small-pill small-pill--primary",children:e},t)}))})}},1255:function(e,t,a){"use strict";a.d(t,{p:function(){return i}});var n=a(2784);function i(e){var t=(0,n.useState)(e),a=t[0],i=t[1];return{input:{value:a,onChange:function(e,t){if(void 0!==t)return i(t);i("checkbox"===e.target.type?"on"===e.target.value:e.target.value)}},value:a,setValue:i}}},9318:function(e,t,a){"use strict";a.d(t,{_:function(){return s}});var n=a(2838),i=a(2784);function s(e,t){var a=(0,i.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),s=a[0],l=a[1];return[s,function(t){try{var a=(0,n.Z)(t,Function)?t(s):t;l(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(i){console.log(i)}}]}},7733:function(e,t,a){"use strict";a.d(t,{h:function(){return o}});var n=a(865),i=a(6670),s=a(6297),l=a(2322),r=a(5935),o=function(e){var t=e.children,a=e.size,o=void 0===a?"3rem":a,c=e.animated,d=e.noShadow,u=(0,s.Z)(e,["children","size","animated","noShadow"]),m=c?r.E.h2:"h2";return(0,l.jsx)(m,(0,i.Z)((0,n.Z)({style:{textTransform:"uppercase",fontSize:o,fontFamily:d?null:"system-ui",fontWeight:"900",color:"var(--clr-brand)",textShadow:d?null:"-2px 2px #d001a2, 2px -2px #00ffcf",transform:u.animate?null:"rotate(0deg)"}},u),{children:t}))}},2737:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var n=a(8788),i=a(7842),s=a(5163),l=a(2322),r=a(2784),o=a(7448),c=a(9097),d=a.n(c),u=a(1453),m=a(7500),h=a(1551),p=a(3029),f=a(1251),_=a(2220),x=a(7037),g=a(3290),v=a(1893);function j(e){var t=e.battle,a=function(){return!!n&&((!n.settings||!n.settings.emailNotifications)&&!1!==s)},n=(0,v.a)();(0,r.useEffect)((function(){if(document.querySelector("#shape-anim"))try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}else{var e=document.createElement("script");e.id="shape-anim",e.src="/scripts/shapes-anim.js",window.document.body.appendChild(e),e.onload=function(){try{window.shapeAnimation.start()}catch(t){console.log("error in shape animation")}}}return function(){try{window.shapeAnimation.stop()}catch(t){console.log("error in shape animation")}}}),[]);var i=(0,r.useState)(),s=i[0],o=i[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"homepage-banner homepage-banner--new-battle",children:[(0,l.jsx)("canvas",{id:"battle-particles"}),(0,l.jsx)("h1",{className:"homepage-banner__heading",children:"Get ready for the next battle!"}),(0,l.jsxs)("p",{className:"homepage-banner__description",children:["New targets. New leaderboards. The next battle begins on"," ",new Date(t.startDate).toLocaleString()]}),a()&&(0,l.jsx)(_.z,{primary:!0,onClick:function(){o(!0),(0,g.q)({name:"emailNotificationUpdated",label:1}),(0,x.Ii)(n.uid,{"settings.emailNotifications":!0}).then((function(){o(!1)}))},isLoading:s,children:"Get Notified via Email when it's live"}),!1===s||n&&n.settings&&n.settings.emailNotifications?(0,l.jsx)("p",{className:"para",children:"We'll notify you by email when it's live."}):null,a()&&(0,l.jsx)("p",{className:"small",style:{marginTop:"2rem",color:"var(--clr-text-light)"},children:"With this, you'll also receive future emails from us regarding such announcements. We won't spam you :)"})]})})}var b=a(2367),y=a(4221),T=a.n(y);function N(e){var t=e.battle,a=(0,m.getBattleStatus)(t),i=(0,r.useState)([]),o=i[0],c=i[1];return(0,r.useEffect)((function(){a===m.BattleStatuses.FINISHED?fetch("".concat(x.Ko,"/battleLeaderboard?battleId=").concat(t.id)).then(function(){var e=(0,n.Z)((function(e){var t;return(0,s.__generator)(this,(function(a){switch(a.label){case 0:return[4,e.json()];case 1:return t=a.sent(),c(t),[2]}}))}));return function(t){return e.apply(this,arguments)}}()):(0,x.uL)({battleId:t.id,numberOfPlayers:3}).then((function(e){c(e)}))}),[t.id]),(0,l.jsxs)("div",{className:"".concat(T().BattleTile," \n      ").concat(a===m.BattleStatuses.ONGOING?T().BattleTile___ongoing:"","\n      ").concat(a===m.BattleStatuses.UPCOMING?T().BattleTile___upcoming:"","\n      "),children:[(0,l.jsxs)("div",{className:T().BattleTile_header,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(f.xu,{inline:!0,style:{marginRight:"1rem"},children:(0,l.jsx)(p.k,{status:a,minimal:!0})}),(0,l.jsx)("h2",{className:T().BattleTile_name,children:(0,l.jsx)(d(),{href:"/battle/".concat(t.id),children:(0,l.jsxs)("a",{className:"link",children:["Battle #",t.id," - ",t.name]})})})]}),(0,l.jsxs)("div",{className:T().BattleTile_countdown,children:[a===m.BattleStatuses.FINISHED&&(0,l.jsxs)("time",{dateTime:t.endDate,children:["Finished ",(0,b.VG)(t.endDate)," ago"]}),a===m.BattleStatuses.UPCOMING&&(0,l.jsx)(h.W,{date:t.startDate,suffix:"",prefix:"Starts in",separator:", ",hideSeconds:!0}),a===m.BattleStatuses.ONGOING&&(0,l.jsx)(h.W,{date:t.endDate,suffix:"",prefix:"Ends in",separator:", "})]})]}),(0,l.jsx)("div",{className:T().BattleTile_content,children:a===m.BattleStatuses.UPCOMING?(0,l.jsx)(j,{battle:t}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:T().BattleTile_info,children:[(0,l.jsx)("div",{children:(0,l.jsx)("p",{className:T().BattleTile_desc,children:t.description})}),(0,l.jsxs)("div",{className:T().BattleTile_leaders,children:[(0,l.jsx)("h4",{children:"Leaders"}),o.map((function(e){return(0,l.jsx)(f.xu,{inline:!0,style:{marginRight:"0.5rem"},children:(0,l.jsx)(f.qE,{size:"40",userId:e.id,url:e.playerProfile.avatar,username:e.playerProfile.username})},e.id)}))]})]}),(0,l.jsx)("div",{className:T().BattleTile_targets,children:t.levelIds.map((function(e,a){return 0===e?(0,l.jsx)("div",{className:T().BattleTile_target,children:(0,l.jsx)(B,{battle:t,levelId:e})},a):(0,l.jsx)(d(),{href:"/play/".concat(e),children:(0,l.jsx)("a",{className:T().BattleTile_target,children:(0,l.jsx)(B,{battle:t,levelId:e})})},a)}))})]})})]})}var B=function(e){var t=e.battle,a=e.levelId;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("img",{loading:"lazy",src:"/targets/".concat(a,".png"),srcSet:"/targets/".concat(a,"@2x.png 2x"),alt:"Target #".concat(a)}),(0,l.jsxs)("div",{className:"target-top-info",children:[a?(0,l.jsxs)("p",{className:"target-top-info__pill",children:["#",a]}):null,t.openLevelIds&&t.openLevelIds.includes(a)?(0,l.jsx)("p",{className:"target-top-info__pill",children:(0,l.jsx)("img",{alt:"",src:"/images/open-book.svg"})}):null]})]})},w=a(865),S=a(6670),k=a(6383),C=a(930),I=a(8742),M=a(3552),E=a(9241),G=a(9318),P=a(94),O=a(1942),H=a(7414),D=function(e){var t=e.numOfPlayersToShow,a=void 0===t?10:t,n=(0,r.useContext)(M.S),i=(0,H.P)(),s=(0,r.useState)([]),o=s[0],c=s[1],m=(0,r.useState)({}),h=m[0],p=m[1],f=(0,r.useState)(),_=f[0],g=f[1],v=(0,k.Z)((0,G._)("showFriendsLeaderboard",!!n),2),j=v[0],b=v[1],y=(0,r.useState)({playerCount:0}),T=y[0],N=y[1];return(0,r.useEffect)((function(){(0,x.pc)().then(N)}),[]),(0,r.useEffect)((function(){g(!0),(j&&n?(0,x.uf)({userId:n.uid}):(0,x.bQ)(a)).then((function(e){c(e),g(!1),n&&n.getIdToken&&(e.find((function(e){return e.id===n.uid}))?p({rank:e.findIndex((function(e){return e.id===n.uid}))+1,totalPlayers:0}):n.getIdToken().then((function(t){(0,x.r8)({token:t}).then((function(t){p(t),c((0,C.Z)(e).concat([{score:t.score,playerProfile:(0,S.Z)((0,w.Z)({},n),{avatar:n.photoURL}),id:n.uid,rank:t.rank,playedCount:t.playedCount}]))})).catch((function(e){console.log(e)}))})))}))}),[n?n.uid:"",j]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.M,{meta:"You: ".concat(h.rank||"-","/").concat(j?o.length:T.playerCount||"-"),children:"Global Leaderboard"}),(0,l.jsxs)("div",{className:"item__content",children:[n&&i&&(0,l.jsx)(P.g,{isFriendsMode:j,onChange:function(e){b("friends"===e.target.value)}}),j&&!_&&!o.length&&(0,l.jsx)(O.N,{}),0===h.rank&&(0,l.jsx)("p",{className:"section-helper",children:"You need at least a score of 10000 to see your rank."}),(0,l.jsxs)("div",{className:"leaderboard-container",children:[_?(0,l.jsx)("p",{className:"ta-c",style:{margin:"1rem 0"},children:(0,l.jsx)(E.a,{})}):null,(0,l.jsx)("ul",{className:"leaderboard__user-list",children:o.map((function(e,t){return(0,l.jsx)("li",{children:(0,l.jsx)(I.P,{data:(0,S.Z)((0,w.Z)({},e),{rank:void 0===e.rank?t+1:e.rank})},t)},t)}))}),0===h.rank&&(0,l.jsx)("p",{className:"section-helper",children:"You need at least a score of 10000 to see your rank."})]}),o.length?(0,l.jsx)("p",{className:"para ta-c leaderboard-buttons",children:(0,l.jsx)(d(),{href:"/leaderboard",children:(0,l.jsx)("a",{className:"button",children:"See top 100"})})}):null]})]})},L=a(7418),F=a(3781),z=a.n(F),Z=a(6833),A=(a(2142),a(7733)),W=a(5598);function U(){var e=(0,v.a)(),t=(0,r.useState)(),a=t[0],n=t[1];return(0,l.jsx)(l.Fragment,{children:(!e.settings||!e.settings.emailNotifications)&&!1!==a&&(0,l.jsxs)("div",{className:"subscribe-box",children:[(0,l.jsx)("h3",{children:"Subscribe for updates"}),(0,l.jsx)(_.z,{primary:!0,onClick:function(){n(!0),(0,g.q)({name:"emailNotificationUpdated",label:1}),(0,x.Ii)(e.uid,{"settings.emailNotifications":!0}).then((function(){n(!1)}))},isLoading:a,children:"Get Notified via Email about new Battles"}),(0,l.jsx)("p",{className:"para",children:"We won't spam you ever :)"}),!1===a?(0,l.jsx)("p",{className:"para",children:"Great! We'll notify you about new Battles."}):null]})})}var q=function(){var e=(0,v.a)(),t=(0,r.useState)(!1),a=t[0],c=t[1],h=(0,r.useState)([]),p=h[0],f=h[1],g=(0,H.P)();(0,r.useEffect)((function(){e&&(0,x.CU)(e.uid).then(f)}),[e?e.uid:""]);var j=(0,m.getBattleStatus)(m.battles.slice(-1)[0])===m.BattleStatuses.UPCOMING,y=m.battles.slice(0,-2).reverse(),T=m.battles.find((function(e){return(0,m.getBattleStatus)(e)===m.BattleStatuses.ONGOING}));T||(T=m.battles.filter((function(e){return(0,m.getBattleStatus)(e)===m.BattleStatuses.FINISHED})).pop());var B,w=(0,r.useState)(0),S=w[0],k=w[1],C=(0,r.useState)("\ud83d\ude42"),I=C[0],M=C[1];return(0,r.useEffect)((function(){S>=400&&M("\ud83d\udd25"),S<400&&M("\ud83e\udd2f"),S<350&&M("\ud83e\udd29"),S<250&&M("\ud83d\ude00"),S<150&&M("\ud83d\ude42")}),[S]),(0,r.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=(0,n.Z)((function(){var e;return(0,s.__generator)(this,(function(t){switch(t.label){case 0:return"visible"!==document.visibilityState?[2]:[4,fetch("/api/session")];case 1:return[4,t.sent().text()];case 2:return(e=parseInt.apply(void 0,[t.sent(),10]))&&k(e),[2]}}))}))).apply(this,arguments)}if(!window.location.href.match(/localhost/)){var a=window.setInterval(e,5e3);return e(),function(){clearInterval(a)}}}),[]),(0,l.jsxs)(o.T,{children:[(0,l.jsxs)("div",{className:"container__item container__item--main container__item--battles",children:[e&&g?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.M,{children:"Welcome"}),(0,l.jsxs)("div",{className:"homepage-banner",children:[(0,l.jsx)("h1",{className:"homepage-banner__heading",children:"Welcome to CSSBattle!"}),(0,l.jsx)("p",{className:"homepage-banner__description",children:"CSS code-golfing game is here! Use your CSS skills to replicate targets with smallest possible code. Feel free to check out the targets below and put your CSS skills to test."}),(0,l.jsx)("p",{children:(0,l.jsx)(d(),{href:"/login",children:(0,l.jsx)("a",{className:"button",children:"Sign In / Sign Up"})})})]})]}),(0,l.jsxs)(u.M,{sticky:!0,children:["Welcome",g?(0,l.jsx)("span",{children:(null===e||void 0===e?void 0:e.displayName)?" ".concat(e.displayName.split(" ")[0]):""}):null,"!"]}),(0,l.jsx)("div",{className:"item__content",children:(0,l.jsxs)("div",{className:"battles-container",children:[(0,l.jsxs)("div",{className:z().homepageTileContainer,children:[(0,l.jsxs)("div",{className:"".concat(z().liveCounterTile," ").concat(z().homeTile),children:[(0,l.jsx)("p",{className:z().liveCounterEmoji,children:I}),(0,l.jsx)("p",{className:z().liveCounter,children:S}),(0,l.jsx)("p",{children:"Players Online"})]}),(0,l.jsx)("div",{className:"".concat(z().learnTile," ").concat(z().homeTile),children:(0,l.jsxs)(W.VStack,{gap:"0.5rem",children:[(0,l.jsxs)(A.h,{noShadow:!0,size:"2.7rem",children:[(0,l.jsxs)("span",{style:{textTransform:"none",fontSize:"0.8em"},children:["CSSBattle's"," "]}),'"Learn"']}),(0,l.jsxs)(W.HStack,{children:[(0,l.jsx)("p",{children:"Want to learn CSS before you battle?"}),(0,l.jsx)("a",{className:"button button--cssbattle",href:"/learn",children:"Learn CSS"})]})]})}),(0,l.jsxs)("div",{className:"".concat(z().customBattle," ").concat(z().homeTile),children:[(0,l.jsxs)(W.HStack,{gap:"1rem",justify:"space-between",align:"center",wrap:!0,children:[(0,l.jsx)("div",{children:(0,l.jsx)("h2",{className:z().customBattle_name,children:"Custom Battles"})}),(0,l.jsx)(W.HStack,{gap:"1rem",children:e&&g?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d(),{href:"/my-battles",children:(0,l.jsxs)("a",{className:"button",children:["My Custom Battles (",p.length,")"]})}),(0,l.jsx)(_.z,{onClick:function(){c(!0)},children:"Host Battle"})]}):(0,l.jsx)("p",{children:"Sign In to host a battle"})})]}),(0,l.jsxs)("p",{children:["Hosting a conference, meetup, company engineering event or just want to have some nerd fun?"," ",(0,l.jsx)("a",{href:"/blog/introducing-custom-battles",className:"link",target:"_blank",children:"Read more about Custom Battles"}),"."]})]})]}),j||T?(0,l.jsx)(N,{battle:m.battles[m.battles.length-1]}):null,e&&g&&!j?(0,l.jsx)(U,{}):null,(0,l.jsx)("a",{href:(0,b.nX)("https://bytes.dev/?r=cssbattle",90),target:"_blank",rel:"noopener",style:(B={display:"block"},(0,i.Z)(B,"display","flex"),(0,i.Z)(B,"justifyContent","center"),(0,i.Z)(B,"margin","4rem 0"),B),children:(0,l.jsx)("img",{style:{width:"clamp(0px, 90%, 1300px)"},src:"/images/uidev-banner-home.jpg"})}),(0,l.jsx)(N,{battle:m.battles[m.battles.length-2]}),y.map((function(e){return(0,l.jsx)(N,{battle:e},e.id)}))]})})]}),(0,l.jsx)("div",{className:"container__item container__item--aside container__item--sticky",children:(0,l.jsxs)("div",{className:z().halfAndHalf,children:[(0,l.jsx)("div",{children:(0,l.jsx)(D,{})}),(0,l.jsx)("div",{children:(0,l.jsx)(L.E,{})})]})}),(0,l.jsx)(Z.w,{isOpen:a,onRequestClose:function(){return c(!1)}})]})}},2142:function(e,t,a){"use strict";a.d(t,{n:function(){return n}});var n=[{id:"1",name:"Web Maker",tagLine:"An offline and blazing fast frontend playground",link:"https://webmaker.app/?utm_source=cssbattle&utm_medium=referral",img:"https://webmaker.app/images/thumb_430.png",levelIds:[14],startDate:"May 8 2019 16:30:00 GMT+0530",endDate:"Sep 30 2019 16:40:00 GMT+0530"},{id:"2",name:"sitepoint.com",tagLine:"Learn HTML, CSS, JavaScript, PHP, Ruby & Responsive Design with 300+ books and courses",link:"https://www.sitepoint.com?utm_source=css-battles&utm_medium=referral&utm_campaign=logo-battle",img:"/sponsors/2.png",levelIds:[21],startDate:"June 12 2019 16:30:00 GMT+0530",endDate:"July 3 2019 16:40:00 GMT+0530"},{id:"3",name:"usepastel.com",tagLine:"Pastel is a visual feedback and collaboration tool for teams building websites and web apps",link:"https://usepastel.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/3.png",levelIds:[53],startDate:"June 9 2020 16:30:00 GMT+0530",endDate:"July 9 2020 16:40:00 GMT+0530"},{id:"4",name:"ImprovMX.com",tagLine:"Free email forwarding for your domain name. Send and receive from custom aliases without having to pay for a Gsuite membership.",link:"https://improvmx.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/4.png",levelIds:[61],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 21 2020 16:40:00 GMT+0530"},{id:"5",name:"PushOwl",tagLine:"Convert your one-time visitors into loyal customers with push notifications.",link:"https://pushowl.com?utm_source=cssbattle&utm_campaign=cssbattle_sponsorship",img:"/sponsors/5.png",levelIds:[69],startDate:"Mar 2 2021 16:30:00 GMT+0530",endDate:"Apr 1 2021 16:30:00 GMT+0530"},{id:"6",name:"Odoo",tagLine:"The #1 open-source Website Builder",link:"https://www.odoo.com/app/website?utm_source=CSSBattle&utm_medium=cpc-social&utm_campaign=website",img:"/sponsors/6.png",levelIds:[81],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530"},{id:"7",name:"Arineo",tagLine:"Join our developer team for next-level code battles in our ERP and e-commerce projects!",link:"https://arineo.com/en",img:"/sponsors/7.png",levelIds:[117],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530"},{id:"8",name:"Root Learn",tagLine:"Learn Web Development in a live online cohort with a global community. Become a hireable junior developer in 9 weeks.",link:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattle",linkHome:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattlebanner",linkTarget:"https://www.rootlearn.com/bootcamp/web-dev?source=cssbattletarget",img:"/sponsors/8.png",levelIds:[125],startDate:"Sep 05 2022 16:30:00 GMT+0530",endDate:"Oct 02 2022 16:30:00 GMT+0530"}]},4136:function(){},4221:function(e){e.exports={BattleTile:"BattleTile_BattleTile__Wph4_",BattleTile___ongoing:"BattleTile_BattleTile___ongoing__Ale77",BattleTile___upcoming:"BattleTile_BattleTile___upcoming__DavxF",BattleTile_content:"BattleTile_BattleTile_content___H6wq",BattleTile_desc:"BattleTile_BattleTile_desc__2foeh",BattleTile_name:"BattleTile_BattleTile_name__MqgE6",BattleTile_leaders:"BattleTile_BattleTile_leaders__CJ_1M",BattleTile_info:"BattleTile_BattleTile_info__6_GSN",BattleTile_header:"BattleTile_BattleTile_header___L_Xt",BattleTile_countdown:"BattleTile_BattleTile_countdown__5GEcZ",BattleTile_contentTimeAttack:"BattleTile_BattleTile_contentTimeAttack__q8b60",BattleTile_infoNoBorder:"BattleTile_BattleTile_infoNoBorder__duyWY",BattleTile_targets:"BattleTile_BattleTile_targets__Sen5k",BattleTile_battles:"BattleTile_BattleTile_battles__shwoT",BattleTile_target:"BattleTile_BattleTile_target__cFrfn",BattleTile_TimeAttackTile:"BattleTile_BattleTile_TimeAttackTile__OOj7c",BattleTile_TimeAttackTile__Title:"BattleTile_BattleTile_TimeAttackTile__Title__0UWma",BattleTile_TimeAttackTile__Body:"BattleTile_BattleTile_TimeAttackTile__Body__drgcT"}},3781:function(e){e.exports={halfAndHalf:"Homepage_halfAndHalf__aOimb",homepageTileContainer:"Homepage_homepageTileContainer__kHUUH",homeTile:"Homepage_homeTile__wGEl5",customBattle:"Homepage_customBattle__3KfvQ",customBattleHighlighted:"Homepage_customBattleHighlighted__q5lok",customBattle_name:"Homepage_customBattle_name__2rMne",liveCounterTile:"Homepage_liveCounterTile__pcCjZ",liveCounter:"Homepage_liveCounter__0oZ7g",liveCounterEmoji:"Homepage_liveCounterEmoji__xMfRJ",learnTile:"Homepage_learnTile__SJjw7"}}},function(e){e.O(0,[154,146,836,774,888,179],(function(){return t=5356,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-8b886a51a4731e9f.js.map